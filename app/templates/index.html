{% extends "base.html" %}

{% block content %}
  {% if error %}
    <div style="padding:12px;border-radius:10px;background:#fee2e2;color:#991b1b;">{{ error }}</div>
  {% endif %}

  {% if not articles %}
    <p>No articles found. Try another query.</p>
  {% else %}
    <section style="display:grid;gap:16px;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));">
      {% for a in articles %}
        <article style="border:1px solid #e5e7eb;border-radius:14px;overflow:hidden;background:#fff;display:flex;flex-direction:column;">
          {% if a.image %}
            <img src="{{ a.image }}" alt="" loading="lazy" style="width:100%;height:160px;object-fit:cover;">
          {% endif %}
          <div style="padding:12px;display:flex;flex-direction:column;gap:8px;">
            <h3 style="margin:0;font-size:1.05rem;color:#0f172a;">{{ a.title }}</h3>
            {% if a.description %}
              <p style="margin:0;color:#475569;">{{ a.description }}</p>
            {% endif %}
            <div style="display:flex;gap:12px;font-size:.9rem;color:#64748b;">
              <span>{{ a.source }}</span>
              <span>{{ a.publishedAt[:10] }}</span>
            </div>
            <a href="{{ a.url }}" target="_blank" rel="noopener"
               style="align-self:flex-start;margin-top:auto;text-decoration:none;font-weight:600;color:#2563eb;">
              Read
            </a>
          </div>
        </article>
      {% endfor %}
    </section>
  {% endif %}
{% endblock %}
